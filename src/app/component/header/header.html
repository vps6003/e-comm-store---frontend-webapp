<header class="shadow">
  <!-- Top Bar -->
  <div class="flex flex-wrap items-center justify-between !bg-cyan-300 px-[2rem] py-[0.375rem]">

    <!-- Logo -->
    <a routerLink="/home" class="flex items-center gap-[0.5rem] mb-[0.5rem] sm:mb-0">
      <img src="{{images.mainLogo}}" alt="Logo" class="h-[4rem] w-[4rem]" />
      <!-- <span class="text-[1.25rem] font-bold text-gray-900">VPS-EKart</span> -->
    </a>

    <!-- Search Bar -->
    <div class="relative flex-1 max-w-[22rem] mx-[1rem] mb-[0.5rem] sm:mb-0">
      <input
        #searchBar
        type="text"
        placeholder="Search for products..."
        [(ngModel)]="commonVariablesService.searchTerm"
        (keyup.enter)="onSearch(searchBar.value)"
        class="w-full px-[1rem] py-[0.5rem] border-2 border-blue-600 rounded-md focus:outline-none focus:border-blue-800 text-[1rem]"
      />
      <span
        class="material-icons absolute left-[18rem] top-[0.5rem] cursor-pointer text-gray-600 hover:text-red-500"
        (click)="onSearch(searchBar.value)"
      >
        search
      </span>
    </div>

    <!-- Profile / Actions -->
    <div class="flex flex-wrap items-center gap-[1rem]">
      <!-- Wishlist -->
      <a routerLink="/customer/wishlist" class="text-gray-900 hover:text-red-500 text-[1rem] flex items-center">
        <mat-icon tooltip="Wishlist" class="!text-red-400">favorite</mat-icon>
      </a>

      <!-- Cart -->
      <a routerLink="/customer/cart" class="text-gray-900 hover:text-yellow-500 text-[1rem] flex items-center relative">
        <mat-icon tooltip="Cart" matBadge="{{commonVariablesService.cartData?.productQuantity?.length}}" class="!text-yellow-500">shopping_cart</mat-icon>
      </a>

      <!-- Admin Dashboard -->
      @if(isAdmin){
      <a routerLink="/admin" class="text-gray-900 font-semibold hover:underline text-[1rem]">Dashboard</a>
      }

      <!-- Profile -->
      <a routerLink="/profile" class="text-gray-900 hover:text-blue-700 text-[1rem] flex items-center">
        <mat-icon tooltip="{{userName}} Profile">account_circle</mat-icon>
      </a>

      <!-- Logout -->
      <button
        (click)="logout()"
        class="px-[0.75rem] py-[0.25rem] border border-gray-900 rounded hover:bg-gray-900 hover:text-white transition-colors text-[1rem]"
      >
        Logout
      </button>
    </div>
  </div>

  <!-- Category Menu -->
  <nav class="bg-[#43c6ac] py-[0.5rem] px-[2rem]">
    <ul class="flex flex-wrap gap-[1rem] text-[1rem]">
      @for(category of allCategories; track category._id){
        <li>
          <a
            [routerLink]="'/products?categoryId=' + category._id"
            class="text-white font-medium hover:underline hover:text-blue-800"
          >
            {{category.name}}
          </a>
        </li>
      }
    </ul>
  </nav>
</header>
